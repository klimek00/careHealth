{"ast":null,"code":"var _jsxFileName = \"/home/klim/careHealth/src/routes/searchDoctorsForm.js\",\n  _s = $RefreshSig$();\nimport { useEffect, useState } from 'react';\nimport SearchBar from './searchBar';\nimport DisplayDoctors from './displayDoctors';\nimport RegisterModal from './registerToDoctor-modal';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nexport default function SearchDoctorsForm(_ref) {\n  _s();\n  let {\n    specialty\n  } = _ref;\n  const [doctorsData, setDoctorsData] = useState([{}]);\n  const [modalStatus, setModalStatus] = useState(false);\n  const [doctorInfo, setDoctorInfo] = useState('');\n\n  //fetch doctors data\n  useEffect(() => {\n    fetch(\"/api?data=doctorsData\").then(res => res.json()).then(data => {\n      setDoctorsData(data);\n    });\n  }, []);\n\n  //triggering modalUpdate will turn on/off modal\n  const modalUpdate = () => {\n    setModalStatus(!modalStatus);\n  };\n\n  //get pressed doctor's data, put into state, activate modal\n  const doctorPressed = id => {\n    var _specialtyDoctors$lek;\n    let pressedDoctorData = (_specialtyDoctors$lek = specialtyDoctors.lekarze) === null || _specialtyDoctors$lek === void 0 ? void 0 : _specialtyDoctors$lek.find(doctor => doctor.id === id);\n    setDoctorInfo(pressedDoctorData);\n    if (!!pressedDoctorData) {\n      modalUpdate();\n    }\n  };\n  /**\n   * TODO: dodaj wyszukiwarke\n   */\n\n  //get from chosen specialty doctors\n  if (specialty) {\n    var _doctorsData$specjali;\n    var specialtyDoctors = (_doctorsData$specjali = doctorsData.specjalizacje) === null || _doctorsData$specjali === void 0 ? void 0 : _doctorsData$specjali.filter(spec => {\n      var _spec$nazwa;\n      return ((_spec$nazwa = spec.nazwa) === null || _spec$nazwa === void 0 ? void 0 : _spec$nazwa.toLowerCase()) === specialty;\n    })[0];\n  }\n  // console.log('speicalty:', specialty, 'specialDoctors:', specialtyDoctors)\n\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"border border-neutral-400 shadow shadow-neutral-400 w-1/2 py-2 mt-10 text-black\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        id: \"form\",\n        className: \"w-full flex\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"w-full px-4\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            id: \"form-header\",\n            className: \"h-10 flex border-b border-neutral-400\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"w-1/4 text-lg text-center\",\n              children: /*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"inline-block align-middle\",\n                children: \"Znajd\\u017A lekarza\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 54,\n                columnNumber: 15\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 53,\n              columnNumber: 13\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              id: \"choosen-spec\",\n              className: \"w-3/4\",\n              children: /*#__PURE__*/_jsxDEV(SearchBar, {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 57,\n                columnNumber: 15\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 56,\n              columnNumber: 13\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 52,\n            columnNumber: 11\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"h-96 flex flex-col form-body w-full border border-slate-400 mt-2 overflow-auto\",\n            children: typeof specialtyDoctors === 'undefined' ? /*#__PURE__*/_jsxDEV(\"p\", {\n              children: \"Wczytywanie danych..\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 62,\n              columnNumber: 13\n            }, this) : /*#__PURE__*/_jsxDEV(DisplayDoctors, {\n              data: specialtyDoctors,\n              doctorPressed: doctorPressed\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 63,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 60,\n            columnNumber: 11\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 51,\n          columnNumber: 9\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 50,\n        columnNumber: 7\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 49,\n      columnNumber: 5\n    }, this), /*#__PURE__*/_jsxDEV(RegisterModal, {\n      modalDisplay: modalStatus,\n      modalClose: modalUpdate,\n      specialty: specialty,\n      doctorInfo: doctorInfo\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 68,\n      columnNumber: 5\n    }, this)]\n  }, void 0, true);\n}\n_s(SearchDoctorsForm, \"p2MyMALyoDNH+qx+jmAOX4fIFsY=\");\n_c = SearchDoctorsForm;\nvar _c;\n$RefreshReg$(_c, \"SearchDoctorsForm\");","map":{"version":3,"names":["useEffect","useState","SearchBar","DisplayDoctors","RegisterModal","jsxDEV","_jsxDEV","Fragment","_Fragment","SearchDoctorsForm","_ref","_s","specialty","doctorsData","setDoctorsData","modalStatus","setModalStatus","doctorInfo","setDoctorInfo","fetch","then","res","json","data","modalUpdate","doctorPressed","id","_specialtyDoctors$lek","pressedDoctorData","specialtyDoctors","lekarze","find","doctor","_doctorsData$specjali","specjalizacje","filter","spec","_spec$nazwa","nazwa","toLowerCase","children","className","fileName","_jsxFileName","lineNumber","columnNumber","modalDisplay","modalClose","_c","$RefreshReg$"],"sources":["/home/klim/careHealth/src/routes/searchDoctorsForm.js"],"sourcesContent":["import {useEffect, useState} from 'react'\nimport SearchBar from './searchBar'\nimport DisplayDoctors from './displayDoctors'\nimport RegisterModal from './registerToDoctor-modal'\n\nexport default function SearchDoctorsForm({specialty}) {\n  const [doctorsData, setDoctorsData] = useState([{}])\n  const [modalStatus, setModalStatus] = useState(false)\n  const [doctorInfo, setDoctorInfo] = useState('')\n\n  //fetch doctors data\n  useEffect(() => {\n    fetch(\"/api?data=doctorsData\")\n    .then( \n      res => res.json()\n    ).then( \n      data => {\n        setDoctorsData(data)\n      })\n  }, [])\n  \n  //triggering modalUpdate will turn on/off modal\n  const modalUpdate = () => {\n    setModalStatus(!modalStatus)\n  }\n\n  //get pressed doctor's data, put into state, activate modal\n  const doctorPressed = (id) => {\n    let pressedDoctorData = specialtyDoctors.lekarze?.find(doctor => doctor.id === id)\n    setDoctorInfo(pressedDoctorData)\n    \n    if (!!pressedDoctorData) {\n      modalUpdate()\n    }\n  }\n  /**\n   * TODO: dodaj wyszukiwarke\n   */\n\n\n  //get from chosen specialty doctors\n  if (specialty) {\n    var specialtyDoctors = doctorsData.specjalizacje?.filter(spec => spec.nazwa?.toLowerCase() === specialty)[0]\n  }\n  // console.log('speicalty:', specialty, 'specialDoctors:', specialtyDoctors)\n\n  return (\n  <>\n    <div className='border border-neutral-400 shadow shadow-neutral-400 w-1/2 py-2 mt-10 text-black'>\n      <div id='form' className='w-full flex'>\n        <div className='w-full px-4'>\n          <div id='form-header' className='h-10 flex border-b border-neutral-400'>\n            <div className='w-1/4 text-lg text-center'>\n              <span className='inline-block align-middle'>Znajd≈∫ lekarza</span>\n            </div>\n            <div id='choosen-spec' className='w-3/4'>\n              <SearchBar/>\n            </div>\n          </div>\n          <div className='h-96 flex flex-col form-body w-full border border-slate-400 mt-2 overflow-auto'>\n          {typeof specialtyDoctors === 'undefined' ? (\n            <p>Wczytywanie danych..</p>\n          ) : <DisplayDoctors data={specialtyDoctors} doctorPressed={doctorPressed}></DisplayDoctors> }\n          </div>\n        </div>\n      </div>\n    </div>\n    <RegisterModal modalDisplay={modalStatus} modalClose={modalUpdate} specialty={specialty} doctorInfo={doctorInfo}/>\n  </>\n  )\n}"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}